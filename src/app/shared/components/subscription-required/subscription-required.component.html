<div class="subscription-required-container">
  <div class="content">
    <!-- Icono de alerta -->
    <div class="alert-icon">
      ğŸ”’
    </div>

    <!-- TÃ­tulo -->
    <h1>Acceso Restringido</h1>

    <!-- Mensaje principal -->
    <p class="main-message">
      Esta funciÃ³n solo estÃ¡ disponible para usuarios con suscripciÃ³n activa.
    </p>

    <!-- InformaciÃ³n del estado -->
    <div class="status-info" *ngIf="currentUser">
      <div class="status-item">
        <span class="label">Tu cuenta:</span>
        <span class="value">{{ currentUser.nombre }} {{ currentUser.correo }}</span>
      </div>
      <div class="status-item">
        <span class="label">Estado de SuscripciÃ³n:</span>
        <span class="value" [ngClass]="'status-' + currentUser.estadoSuscripcion">
          {{ currentUser.estadoSuscripcion === 'PENDIENTE_PAGO' ? 'Pendiente de Pago' : currentUser.estadoSuscripcion }}
        </span>
      </div>
    </div>

    <!-- Mensaje de verificaciÃ³n -->
    <div class="verification-message" *ngIf="verificandoEstado || mensajeVerificacion">
      <span *ngIf="verificandoEstado">â³</span>
      <span *ngIf="!verificandoEstado && mensajeVerificacion.includes('aprobada')">âœ…</span>
      {{ mensajeVerificacion }}
    </div>

    <!-- Acciones -->
    <div class="actions">
      <button 
        (click)="verificarEstadoSuscripcion()" 
        class="btn btn-refresh"
        [disabled]="verificandoEstado">
        {{ verificandoEstado ? 'â³ Verificando...' : 'ğŸ”„ Verificar Estado' }}
      </button>

      <button 
        *ngIf="currentUser?.estadoSuscripcion === 'PENDIENTE_PAGO'"
        (click)="irACargarComprobante()" 
        class="btn btn-primary">
        Cargar Comprobante de Pago
      </button>
      
      <button 
        (click)="irAlDashboard()" 
        class="btn btn-secondary">
        Volver al Inicio
      </button>

      <button 
        (click)="logout()" 
        class="btn btn-logout">
        Cerrar SesiÃ³n
      </button>
    </div>

    <!-- InformaciÃ³n adicional -->
    <div class="info-section">
      <h3>Â¿QuÃ© necesitas hacer?</h3>
      <ul>
        <li *ngIf="currentUser?.estadoSuscripcion === 'PENDIENTE_PAGO'">
          <strong>1. Cargar comprobante:</strong> Sube tu prueba de pago para que nuestro equipo la verifique
        </li>
        <li *ngIf="currentUser?.estadoSuscripcion === 'PENDIENTE_PAGO'">
          <strong>2. Esperar aprobaciÃ³n:</strong> Nuestro equipo revisarÃ¡ tu comprobante en breve
        </li>
        <li *ngIf="currentUser?.estadoSuscripcion === 'PENDIENTE_PAGO'">
          <strong>3. Acceso activo:</strong> Una vez aprobado, tendrÃ¡s acceso inmediato a todas las funciones
        </li>
      </ul>
    </div>

    <!-- Mensaje de seguridad -->
    <div class="security-message">
      ğŸ” Tu suscripciÃ³n es protegida y segura. Solo usuarios con suscripciÃ³n activa pueden acceder a funciones administrativas.
    </div>
  </div>
</div>
