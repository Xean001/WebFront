<div class="planes-container">
  <!-- Hero Section -->
  <div class="hero-section">
    <div class="hero-content">
      <h1>Planes de Suscripci√≥n</h1>
      <p>Elige el plan perfecto para tu barber√≠a</p>
    </div>
  </div>

  <!-- Planes Grid -->
  <div class="planes-grid">
    <div 
      *ngFor="let plan of planes" 
      class="plan-card"
      [class.featured]="plan.tipo === mejorPlan"
      [class.free]="plan.tipo === 'PRUEBA'"
    >
      <!-- Badge de mejor plan -->
      <div *ngIf="plan.tipo === mejorPlan" class="badge-mejor">
        ‚≠ê Mejor Opci√≥n
      </div>

      <!-- Header del plan -->
      <div class="plan-header">
        <h2>{{ plan.nombre }}</h2>
        <p class="plan-description">{{ plan.descripcion }}</p>
      </div>

      <!-- Precio principal -->
      <div class="plan-price">
        <span class="currency">S/</span>
        <span class="amount">{{ plan.precio | number: '1.2-2' }}</span>
        <span class="period">/{{ plan.duracionDias }} d√≠as</span>
      </div>

      <!-- Precio por d√≠a -->
      <div class="price-daily">
        <small>S/ {{ calcularPrecioDiario(plan) | number: '1.2-2' }} por d√≠a</small>
      </div>

      <!-- Divider -->
      <div class="divider"></div>

      <!-- Features -->
      <div class="plan-features">
        <div class="feature">
          <span class="feature-icon">üë•</span>
          <div class="feature-content">
            <strong>Barberos</strong>
            <p>Hasta {{ plan.limiteBarberos }} barberos</p>
          </div>
        </div>

        <div class="feature">
          <span class="feature-icon">‚úÇÔ∏è</span>
          <div class="feature-content">
            <strong>Servicios</strong>
            <p>{{ plan.limiteServicios === null ? 'Servicios ilimitados' : 'Hasta ' + plan.limiteServicios + ' servicios' }}</p>
          </div>
        </div>

        <div class="feature">
          <span class="feature-icon">üìÖ</span>
          <div class="feature-content">
            <strong>Duraci√≥n</strong>
            <p>{{ plan.duracionDias }} d√≠as de acceso</p>
          </div>
        </div>

        <!-- Caracter√≠sticas adicionales seg√∫n el plan -->
        <div *ngIf="plan.tipo !== 'PRUEBA'" class="feature">
          <span class="feature-icon">‚úÖ</span>
          <div class="feature-content">
            <strong>Soporte prioritario</strong>
            <p>Atenci√≥n al cliente 24/7</p>
          </div>
        </div>

        <div *ngIf="plan.tipo === 'SEMESTRAL' || plan.tipo === 'ANUAL'" class="feature">
          <span class="feature-icon">üéÅ</span>
          <div class="feature-content">
            <strong>Descuento especial</strong>
            <p>
              <span *ngIf="plan.tipo === 'SEMESTRAL'">15% descuento</span>
              <span *ngIf="plan.tipo === 'ANUAL'">25% descuento</span>
            </p>
          </div>
        </div>
      </div>

      <!-- Action Button -->
      <button 
        (click)="contratarPlan(plan)"
        class="btn-plan"
        [class.btn-free]="plan.tipo === 'PRUEBA'"
        [class.btn-featured]="plan.tipo === mejorPlan"
      >
        <span *ngIf="plan.tipo === 'PRUEBA'">Comenzar Prueba</span>
        <span *ngIf="plan.tipo !== 'PRUEBA'">Contratar Plan</span>
      </button>

      <!-- Footer info -->
      <div *ngIf="plan.tipo === 'PRUEBA'" class="plan-footer">
        <small>Sin tarjeta de cr√©dito requerida</small>
      </div>
    </div>
  </div>

  <!-- Comparison Table -->
  <div class="comparison-section">
    <h2>Comparaci√≥n Detallada</h2>
    <div class="comparison-table">
      <table>
        <thead>
          <tr>
            <th>Caracter√≠sticas</th>
            <th *ngFor="let plan of planes">{{ plan.nombre }}</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>Precio</strong></td>
            <td *ngFor="let plan of planes">S/.{{ plan.precio | number: '1.2-2' }}</td>
          </tr>
          <tr>
            <td><strong>Duraci√≥n</strong></td>
            <td *ngFor="let plan of planes">{{ plan.duracionDias }} d√≠as</td>
          </tr>
          <tr>
            <td><strong>Barberos</strong></td>
            <td *ngFor="let plan of planes">{{ plan.limiteBarberos }}</td>
          </tr>
          <tr>
            <td><strong>Servicios</strong></td>
            <td *ngFor="let plan of planes">
              {{ plan.limiteServicios === null ? '‚àû' : plan.limiteServicios }}
            </td>
          </tr>
          <tr>
            <td><strong>Soporte</strong></td>
            <td *ngFor="let plan of planes">
              <span *ngIf="plan.tipo === 'PRUEBA'">B√°sico</span>
              <span *ngIf="plan.tipo !== 'PRUEBA'">24/7 Prioritario</span>
            </td>
          </tr>
          <tr>
            <td><strong>Cancelaci√≥n</strong></td>
            <td *ngFor="let plan of planes">
              <span *ngIf="plan.tipo === 'PRUEBA'">N/A</span>
              <span *ngIf="plan.tipo !== 'PRUEBA'">En cualquier momento</span>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
