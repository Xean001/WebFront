<nav class="navbar">
  <div class="navbar-container">
    <!-- Logo/Marca -->
    <div class="navbar-brand">
      <a routerLink="/dashboard" class="brand-link">
        <span class="brand-icon">‚úÇÔ∏è</span>
        <span class="brand-name">Fadely</span>
      </a>
    </div>

    <!-- Menu Toggle (Mobile) -->
    <button class="navbar-toggle" (click)="toggleMenu()" [class.active]="isMenuOpen">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <!-- Navigation Links -->
    <div class="navbar-menu" [class.active]="isMenuOpen" (click)="closeMenu()">
      <ul class="navbar-nav">
        <!-- Inicio: para todos -->
        <li class="nav-item">
          <a routerLink="/dashboard" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }" class="nav-link">
            Inicio
          </a>
        </li>

        <!-- Barber√≠as: disponible para todos (p√∫blico) -->
        <li class="nav-item">
          <a routerLink="/barberias/list" routerLinkActive="active" class="nav-link">
            Barber√≠as
          </a>
        </li>

        <!-- Barberos: disponible para todos (p√∫blico) -->
        <li class="nav-item">
          <a routerLink="/barbers/list" routerLinkActive="active" class="nav-link">
            Barberos
          </a>
        </li>

        <!-- Citas: solo clientes autenticados -->
        <li class="nav-item" *ngIf="isCliente()">
          <a routerLink="/appointments/list" routerLinkActive="active" class="nav-link">
            Mis Citas
          </a>
        </li>

        <!-- Divider para separar enlaces p√∫blicos de administraci√≥n -->
        <li class="nav-divider" *ngIf="isAdmin()"></li>

        <!-- Administraci√≥n: solo para admin/super_admin/recepcionista -->
        <li class="nav-item admin-section" *ngIf="isAdmin()">
          <span class="admin-label">Administraci√≥n</span>
        </li>

        <!-- Gestionar Barber√≠as: solo admin -->
        <li class="nav-item" *ngIf="isAdmin()">
          <a routerLink="/barberias/administrar" routerLinkActive="active" class="nav-link admin-link">
            üìã Barber√≠as
          </a>
        </li>

        <!-- Gestionar Horarios: solo admin/barbero -->
        <li class="nav-item" *ngIf="isAdmin() || isBarbero()">
          <a routerLink="/horarios/administrar" routerLinkActive="active" class="nav-link admin-link">
            ‚è∞ Horarios
          </a>
        </li>

        <!-- Gestionar Servicios: solo admin -->
        <li class="nav-item" *ngIf="isAdmin()">
          <a routerLink="/servicios/administrar" routerLinkActive="active" class="nav-link admin-link">
            ‚ú® Servicios
          </a>
        </li>
      </ul>

      <!-- User Actions -->
      <div class="navbar-actions">
        <ng-container *ngIf="!currentUser">
          <a routerLink="/auth/login" class="btn btn-login">
            Iniciar Sesi√≥n
          </a>
          <a routerLink="/auth/register" class="btn btn-register">
            Registrarse
          </a>
        </ng-container>

        <ng-container *ngIf="currentUser">
          <div class="user-profile">
            <span class="user-name">¬°Hola, {{ currentUser.nombre }}!</span>
            <span class="user-role" [ngClass]="'role-' + currentUser.tipoUsuario.toLowerCase()">
              {{ currentUser.tipoUsuario }}
            </span>
            <button (click)="logout()" class="btn btn-logout">
              Salir
            </button>
          </div>
        </ng-container>
      </div>
    </div>
  </div>
</nav>
