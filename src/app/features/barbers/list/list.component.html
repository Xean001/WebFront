<div class="barberos-container">
  <!-- Hero Section -->
  <section class="hero-section">
    <div class="hero-content">
      <h1 class="hero-title">Nuestros Barberos</h1>
      <p class="hero-subtitle">Conoce a nuestros profesionales especializados</p>
      
      <!-- Search Bar -->
      <div class="search-container">
        <div class="search-box">
          <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <circle cx="11" cy="11" r="8"></circle>
            <path d="m21 21-4.35-4.35"></path>
          </svg>
          <input 
            type="text" 
            placeholder="Buscar por nombre o especialidad..."
            [(ngModel)]="busqueda"
            (keyup)="buscarBarberos()"
            class="search-input"
          >
          <button class="search-button" (click)="buscarBarberos()">Buscar</button>
        </div>
        
        <!-- Filtro por Barbería -->
        <div class="filter-box">
          <svg class="filter-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>
          </svg>
          <select 
            [(ngModel)]="barberiaFiltro"
            (change)="filtrarPorBarberia()"
            class="filter-select">
            <option value="">Todas las barberías</option>
            <option *ngFor="let barberia of barberias" [value]="barberia.idBarberia">
              {{ barberia.nombre }}
            </option>
          </select>
        </div>
      </div>
    </div>
  </section>

  <!-- Loading State -->
  <div *ngIf="cargando" class="loading-state">
    <div class="spinner"></div>
    <p>Cargando barberos...</p>
  </div>

  <!-- Barberos Grid -->
  <section class="barberos-section" *ngIf="!cargando">
    <div class="container">
      <div class="barberos-grid" *ngIf="barberosFiltrados.length > 0">
        <div *ngFor="let barbero of barberosFiltrados" class="barbero-card">
          <div class="barbero-image">
            <img [src]="'https://i.pravatar.cc/300?img=' + (barbero.idPerfil || 1)" 
                 [alt]="barbero.usuario?.nombre"
                 class="card-image">
            <div class="barbero-badge" *ngIf="barbero.calificacionPromedio">
              <svg class="star-icon" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
              </svg>
              {{ barbero.calificacionPromedio || 4.8 }}
            </div>
          </div>

          <div class="barbero-content">
            <h3 class="barbero-name">{{ barbero.usuario?.nombre }}</h3>
            <p class="barbero-especialidad">{{ barbero.especialidad || 'Barbero Profesional' }}</p>
            <p class="barbero-barberia">{{ getNombreBarberia(barbero.idBarberia) }}</p>
            
            <div class="barbero-details">
              <div class="detail-item" *ngIf="barbero.anosExperiencia">
                <span class="detail-label">Experiencia:</span>
                <span class="detail-value">{{ barbero.anosExperiencia }}+ años</span>
              </div>
            </div>

            <button class="reserve-btn" (click)="verPerfil(barbero.idPerfil)">Ver Perfil</button>
          </div>
        </div>
      </div>

      <!-- No Results -->
      <div class="no-results" *ngIf="barberosFiltrados.length === 0">
        <div class="no-results-content">
          <svg class="no-results-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <circle cx="11" cy="11" r="8"/>
            <path d="m21 21-4.35-4.35"/>
          </svg>
          <h3>No se encontraron barberos</h3>
          <p>Intenta con otros criterios de búsqueda</p>
        </div>
      </div>
    </div>
  </section>
</div>
