<div class="barberias-container">
  <!-- Hero Section -->
  <section class="hero-section">
    <div class="hero-content">
      <h1 class="hero-title">Encuentra tu Barbería</h1>
      <p class="hero-subtitle">Explora las mejores barberías de tu ciudad</p>
      
      <!-- Search Bar -->
      <div class="search-container">
        <div class="search-box">
          <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <circle cx="11" cy="11" r="8"></circle>
            <path d="m21 21-4.35-4.35"></path>
          </svg>
          <input 
            type="text" 
            placeholder="Buscar barbería por nombre..."
            [(ngModel)]="busqueda"
            (keyup)="buscarBarberias()"
            class="search-input"
          >
          <button class="search-button" (click)="buscarBarberias()">Buscar</button>
        </div>

        <!-- City Filter -->
        <div class="filter-box">
          <select [(ngModel)]="ciudadSeleccionada" (change)="filtrarPorCiudad()" class="city-select">
            <option value="">Todas las ciudades</option>
            <option *ngFor="let ciudad of ciudades" [value]="ciudad">
              {{ ciudad }}
            </option>
          </select>
        </div>
      </div>
    </div>
  </section>

  <!-- Loading State -->
  <div *ngIf="cargando" class="loading-state">
    <div class="spinner"></div>
    <p>Cargando barberías...</p>
  </div>

  <!-- Barberías Grid -->
  <section class="barberias-section" *ngIf="!cargando">
    <div class="container">
      <!-- Notificación de datos de ejemplo -->
      <div class="alert-info" *ngIf="conErrorAPI">
        <svg class="info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <circle cx="12" cy="12" r="10"></circle>
          <line x1="12" y1="16" x2="12" y2="12"></line>
          <line x1="12" y1="8" x2="12.01" y2="8"></line>
        </svg>
        <p>Mostrando barberías de ejemplo. Por favor, intenta de nuevo más tarde para acceder al catálogo completo.</p>
      </div>

      <!-- Grid -->
      <div class="barberias-grid" *ngIf="barberias.length > 0">
        <a *ngFor="let barberia of barberias" 
           [routerLink]="['/barberias/detail', barberia.idBarberia]"
           class="barberia-card-link">
          <div class="barberia-card">
            <!-- Image Container -->
            <div class="barberia-image">
              <img [src]="barberia.urlImagen || 'assets/images/barberia-default.jpg'" 
                   [alt]="barberia.nombre"
                   class="card-image">
              <div class="barberia-badge">
                <svg class="star-icon" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                </svg>
                {{ barberia.calificacion | number:'1.1-1' }}
              </div>
              <span class="status-badge" *ngIf="barberia.estado === 'ACTIVA'">Abierto</span>
            </div>

            <!-- Content -->
            <div class="barberia-content">
              <h3 class="barberia-name">{{ barberia.nombre }}</h3>
              
              <div class="barberia-details">
                <div class="detail-item">
                  <svg class="detail-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
                    <circle cx="12" cy="10" r="3"/>
                  </svg>
                  {{ barberia.ciudad }}
                </div>
                <div class="detail-item">
                  <svg class="detail-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
                  </svg>
                  {{ barberia.telefono }}
                </div>
              </div>

              <p class="barberia-description">{{ barberia.descripcion | slice:0:80 }}...</p>

              <div class="hours-section">
                <svg class="hour-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <circle cx="12" cy="12" r="10"/>
                  <polyline points="12 6 12 12 16 14"/>
                </svg>
                {{ barberia.horarioApertura }} - {{ barberia.horarioCierre }}
              </div>

              <button class="reserve-btn" *ngIf="barberia.aceptaReservasOnline">
                Reservar
              </button>
              <button class="reserve-btn disabled" *ngIf="!barberia.aceptaReservasOnline" disabled>
                No disponible
              </button>
            </div>
          </div>
        </a>
      </div>

      <!-- No Results -->
      <div class="no-results" *ngIf="barberias.length === 0">
        <div class="no-results-content">
          <svg class="no-results-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <circle cx="11" cy="11" r="8"/>
            <path d="m21 21-4.35-4.35"/>
          </svg>
          <h3>No se encontraron barberías</h3>
          <p>Intenta con otros criterios de búsqueda</p>
        </div>
      </div>

      <!-- Pagination -->
      <div class="pagination-section" *ngIf="totalPaginas > 1">
        <button class="pagination-btn" 
                (click)="irAPagina(paginaActual - 1)"
                [disabled]="paginaActual === 0">
          ← Anterior
        </button>
        
        <div class="pagination-info">
          Página {{ paginaActual + 1 }} de {{ totalPaginas }}
        </div>
        
        <button class="pagination-btn"
                (click)="irAPagina(paginaActual + 1)"
                [disabled]="paginaActual === totalPaginas - 1">
          Siguiente →
        </button>
      </div>
    </div>
  </section>
</div>
