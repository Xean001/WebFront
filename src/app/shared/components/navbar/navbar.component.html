<nav class="navbar">
  <div class="navbar-container">
    <!-- Logo/Marca -->
    <div class="navbar-brand">
      <a routerLink="/dashboard" class="brand-link">
        <span class="brand-icon">âœ‚ï¸</span>
        <span class="brand-name">Fadely</span>
      </a>
    </div>

    <!-- Menu Toggle (Mobile) -->
    <button class="navbar-toggle" (click)="toggleMenu()" [class.active]="isMenuOpen">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <!-- Navigation Links -->
    <div class="navbar-menu" [class.active]="isMenuOpen" (click)="closeMenu()">
      <ul class="navbar-nav">
        <!-- Inicio: para todos -->
        <li class="nav-item">
          <a routerLink="/dashboard" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }" class="nav-link">
            Inicio
          </a>
        </li>

        <!-- BarberÃ­as: disponible para todos (pÃºblico) -->
        <li class="nav-item">
          <a routerLink="/barberias/list" routerLinkActive="active" class="nav-link">
            BarberÃ­as
          </a>
        </li>

        <!-- Barberos: disponible para todos (pÃºblico) -->
        <li class="nav-item">
          <a routerLink="/barbers/list" routerLinkActive="active" class="nav-link">
            Barberos
          </a>
        </li>

        <!-- Citas: solo clientes autenticados -->
        <li class="nav-item" *ngIf="isCliente()">
          <a routerLink="/appointments/list" routerLinkActive="active" class="nav-link">
            Mis Citas
          </a>
        </li>

        <!-- Divider para separar enlaces pÃºblicos de administraciÃ³n -->
        <li class="nav-divider" *ngIf="isAdmin()"></li>

        <!-- AdministraciÃ³n: solo para admin/super_admin/recepcionista -->
        <li class="nav-item admin-section" *ngIf="isAdmin()">
          <span class="admin-label">AdministraciÃ³n</span>
        </li>

        <!-- Gestionar BarberÃ­as: solo admin -->
        <li class="nav-item" *ngIf="isAdmin()">
          <a routerLink="/barberias/administrar" routerLinkActive="active" class="nav-link admin-link">
            ğŸ“‹ BarberÃ­as
          </a>
        </li>

        <!-- Gestionar Horarios: solo admin/barbero -->
        <li class="nav-item" *ngIf="isAdmin() || isBarbero()">
          <a routerLink="/horarios/administrar" routerLinkActive="active" class="nav-link admin-link">
            â° Horarios
          </a>
        </li>

        <!-- Gestionar Servicios: solo admin -->
        <li class="nav-item" *ngIf="isAdmin()">
          <a routerLink="/servicios/administrar" routerLinkActive="active" class="nav-link admin-link">
            âœ¨ Servicios
          </a>
        </li>

        <!-- Solicitudes de Pago: solo SUPER_ADMIN -->
        <li class="nav-item" *ngIf="hasRole('SUPER_ADMIN')">
          <a routerLink="/auth/pagos-solicitudes" routerLinkActive="active" class="nav-link super-admin-link">
            ğŸ‘‘ ğŸ’³ Panel de Pagos (Admin)
          </a>
        </li>
      </ul>

      <!-- User Actions -->
      <div class="navbar-actions">
        <ng-container *ngIf="!currentUser">
          <a routerLink="/auth/login" class="btn btn-login">
            Iniciar SesiÃ³n
          </a>
          <a routerLink="/auth/register" class="btn btn-register">
            Registrarse como Cliente
          </a>
        </ng-container>

        <ng-container *ngIf="currentUser">
          <div class="user-profile">
            <span class="user-name">Â¡Hola, {{ currentUser.nombre }}!</span>
            <span class="user-role" [ngClass]="'role-' + currentUser.tipoUsuario.toLowerCase()">
              <span *ngIf="hasRole('SUPER_ADMIN')">ğŸ‘‘ {{ currentUser.tipoUsuario }}</span>
              <span *ngIf="!hasRole('SUPER_ADMIN')">{{ currentUser.tipoUsuario }}</span>
            </span>
            <button (click)="logout()" class="btn btn-logout">
              Salir
            </button>
          </div>
        </ng-container>
      </div>
    </div>
  </div>
</nav>
